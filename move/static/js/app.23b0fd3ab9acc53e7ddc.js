webpackJsonp([1],{"5G4l":function(t,e){},H2CX:function(t,e){},KzyV:function(t,e){},NHnr:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o("7+uW"),a=o("zL8q"),i=o.n(a),r=(o("tvR6"),{render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("keep-alive",[e("router-view")],1)],1)},staticRenderFns:[]});var n=o("VU/8")({name:"App"},r,!1,function(t){o("5G4l")},null,null).exports,l=o("/ocq"),c=o("mtWM"),d=o.n(c),u={data:function(){return{ruleForm2:{username:"",pass:""},rules2:{username:[{validator:function(t,e,o){""===e&&o(new Error("请输入用户名"))},trigger:"blur"}],pass:[{validator:function(t,e,o){""===e&&o(new Error("请输入密码"))},trigger:"blur"}]}}},methods:{submitForm:function(){""==this.ruleForm2.username||""==this.ruleForm2.pass?this.$message.error("信息不完整!"):(localStorage.setItem("tokenID","123456"),localStorage.setItem("userName","123456"),this.$router.push("/pos"))},resetForm:function(t){this.$refs[t].resetFields()},jumpReg:function(){this.$router.push("reg")}}},m={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"login"},[t._m(0),t._v(" "),o("div",{staticClass:"main"},[o("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm2,"status-icon":"",rules:t.rules2,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"用户名",prop:"username"}},[o("el-input",{attrs:{type:"text","auto-complete":"off"},model:{value:t.ruleForm2.username,callback:function(e){t.$set(t.ruleForm2,"username",e)},expression:"ruleForm2.username"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"密码",prop:"pass"}},[o("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:t.ruleForm2.pass,callback:function(e){t.$set(t.ruleForm2,"pass",e)},expression:"ruleForm2.pass"}})],1),t._v(" "),o("el-form-item",{attrs:{align:"center",id:"btn"}},[o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm()}}},[t._v("提交")]),t._v(" "),o("el-button",{on:{click:function(e){t.resetForm("ruleForm2")}}},[t._v("重置")])],1)],1),t._v(" "),o("div",{staticClass:"bottom-bar"},[o("p",[t._v("吃了么点餐系统隶属于格莱科技旗下产品，最终解释权属于本公司。"),o("br"),t._v("还没账号请"),o("a",{attrs:{href:"javascript:void(0)"},on:{click:t.jumpReg}},[t._v("点击注册")])])])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"hd"},[e("i",{staticClass:"icon iconfont icon-chushimao"})])}]};var f=o("VU/8")(u,m,!1,function(t){o("z38I")},"data-v-6aa1da5b",null).exports,p=o("bOdI"),g=o.n(p),v={name:"LeftNav",methods:{loginOut:function(){localStorage.removeItem("tokenID"),this.$message("退出成功!"),this.$router.push("/")}}},_={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"left-bar"},[o("ul",[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),o("li",[o("a",{attrs:{href:"javascript:void(0)"},on:{click:t.loginOut}},[o("i",{staticClass:"icon iconfont icon-tuichu-"}),t._v("退出")])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("a",{attrs:{href:"#"}},[e("i",{staticClass:"icon iconfont icon-rechargefill"}),this._v("收银")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("a",{attrs:{href:"#"}},[e("i",{staticClass:"icon iconfont icon-huiyuan"}),this._v("会员")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("a",{attrs:{href:"#"}},[e("i",{staticClass:"icon iconfont icon-navicon-kczb"}),this._v("库存")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("a",{attrs:{href:"#"}},[e("i",{staticClass:"icon iconfont icon-jiaohuan"}),this._v("换班")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("a",{attrs:{href:"#"}},[e("i",{staticClass:"icon iconfont icon-biao"}),this._v("报表")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("a",{attrs:{href:"#"}},[e("i",{staticClass:"icon iconfont icon-ceshifuzhu"}),this._v("辅助")])])}]};var h,b=o("VU/8")(v,_,!1,function(t){o("TjiS")},"data-v-1899472e",null).exports,y=o("pKgV"),C=o.n(y),F={name:"Pos",components:{LeftNav:b},data:function(){return{activeName:"first",totalMoney:0,totalCount:0,tableData:[],oftenGoods:[],type1Goods:[],type2Goods:[],type3Goods:[],orderList:[]}},beforeRouteEnter:function(t,e,o){localStorage.getItem("tokenID")?o():o("/")},mounted:function(){var t=document.body.clientHeight;document.getElementById("order-list").style.height=t+"px",this.orderListGet()},methods:(h={handleClick:function(t,e){}},g()(h,"handleClick",function(t){}),g()(h,"addOrderList",function(t){this.goodsList=[],this.totalCount=0,this.totalMoney=0;for(var e=!1,o=0;o<this.tableData.length;o++)this.tableData[o].goodsId==t._id&&(e=!0);if(e){this.tableData.filter(function(e){return e.goodsId==t._id})[0].count++}else{var s={goodsId:t._id,goodsName:t.goodsName,price:t.price,count:t.count};this.tableData.push(s)}this.getAllMoney()}),g()(h,"delSingleGoods",function(t){this.tableData=this.tableData.filter(function(e){return e.goodsId!=t.goodsId}),this.getAllMoney()}),g()(h,"getAllMoney",function(){var t=this;this.totalCount=0,this.totalMoney=0,this.tableData&&this.tableData.forEach(function(e){t.totalCount+=e.count,t.totalMoney=t.totalMoney+e.price*e.count})}),g()(h,"delAllGoods",function(){this.tableData=[],this.totalCount=0,this.totalMoney=0}),g()(h,"checkout",function(){if(0!=this.totalCount){for(var t=0;t<this.tableData.length;t++){var e={orderName:this.tableData[t].goodsName,orderNum:this.tableData[t].count,orderPrice:this.tableData[t].price};this.orderList.push(e)}this.tableData=[],this.totalCount=0,this.totalMoney=0,this.orderList=[],this.$message({message:"结账成功，欢迎下次光临!",type:"success"}),console.log(this.orderList),this.orderListGet()}else this.$message.error("未选择商品，下单失败！")}),g()(h,"orderListGet",function(){this.orderList=C.a.goods.filter(function(t,e,o){return 1==t.goodOfften})}),h),created:function(){this.oftenGoods=C.a.goods,this.type1Goods=C.a.goods.filter(function(t){return 1==t.goodType}),this.type2Goods=C.a.goods.filter(function(t){return 2==t.goodType}),this.type3Goods=C.a.goods.filter(function(t){return 3==t.goodType})}},$={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"pos"},[o("left-nav"),t._v(" "),o("div",{staticClass:"pos-main"},[o("el-row",[o("el-col",{staticClass:"post-list",attrs:{span:7,id:"order-list"}},[o("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[o("el-tab-pane",{attrs:{label:"点餐",name:"first"}},[o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[o("el-table-column",{attrs:{prop:"goodsName",label:"商品"}}),t._v(" "),o("el-table-column",{attrs:{prop:"count",label:"数量",align:"center",width:"50"}}),t._v(" "),o("el-table-column",{attrs:{prop:"price",label:"金额",align:"center",width:"70"}}),t._v(" "),o("el-table-column",{attrs:{label:"操作",width:"100",fixed:"right",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{type:"text",size:"small"},on:{click:function(o){t.delSingleGoods(e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),o("p",{staticStyle:{"text-align":"right","padding-right":"10px"}},[t._v("数量："+t._s(t.totalCount)+" 总价："+t._s(t.totalMoney)+"元")]),t._v(" "),o("div",{staticClass:"btn-group"},[o("el-button",{attrs:{type:"danger"},on:{click:t.delAllGoods}},[t._v("清空")]),t._v(" "),o("el-button",{attrs:{type:"success"},on:{click:t.checkout}},[t._v("结账")])],1)],1),t._v(" "),o("el-tab-pane",{attrs:{label:"订单列表",name:"second"}},[o("div",{staticClass:"orderlist"},t._l(t.orderList,function(e,s){return o("div",{staticClass:"order"},[o("div",{staticClass:"order-hd"},[t._v("\n                                  订单编号："+t._s(e._id)+" \n                                  "),o("span",[t._v("订单总价："+t._s(e.ordertotal)+"元")])]),t._v(" "),o("div",{staticClass:"goods-info"},[o("table",{staticClass:"order-table",attrs:{cellpadding:"0",cellspacing:"0"}},[o("tr",[o("td",[t._v("商品名称")]),t._v(" "),o("td",[t._v("商品数量")]),t._v(" "),o("td",[t._v("商品单价")])]),t._v(" "),t._l(t.orderList,function(e){return o("tr",[o("td",[t._v(t._s(e.goodsName))]),t._v(" "),o("td",[t._v(t._s(e.count))]),t._v(" "),o("td",[t._v(t._s(e.price))])])})],2)])])}))])],1)],1),t._v(" "),o("el-col",{attrs:{span:17,id:"goods-list"}},[o("div",{staticClass:"often-goods"},[o("div",{staticClass:"title"},[t._v("常用商品")]),t._v(" "),o("div",{staticClass:"often-goods-list"},[o("ul",t._l(t.oftenGoods,function(e){return o("li",{on:{click:function(o){t.addOrderList(e)}}},[o("span",[t._v(t._s(e.goodsName))]),t._v(" "),o("span",{staticClass:"o-price"},[t._v("￥"+t._s(e.price)+"元")])])}))])]),t._v(" "),o("div",{staticClass:"goods-type"},[o("el-tabs",[o("el-tab-pane",{attrs:{label:"汉堡"}},[o("ul",{staticClass:"cookList"},t._l(t.type1Goods,function(e){return o("li",{on:{click:function(o){t.addOrderList(e)}}},[o("span",{staticClass:"foodImg"},[o("img",{attrs:{src:e.goodsImg,width:"100%"}})]),t._v(" "),o("span",{staticClass:"foodName"},[t._v(t._s(e.goodsName))]),t._v(" "),o("span",{staticClass:"foodPrice"},[t._v("￥"+t._s(e.price)+"元")])])}))]),t._v(" "),o("el-tab-pane",{attrs:{label:"主食"}},[o("ul",{staticClass:"cookList"},t._l(t.type2Goods,function(e){return o("li",{on:{click:function(o){t.addOrderList(e)}}},[o("span",{staticClass:"foodImg"},[o("img",{attrs:{src:e.goodsImg,width:"100%"}})]),t._v(" "),o("span",{staticClass:"foodName"},[t._v(t._s(e.goodsName))]),t._v(" "),o("span",{staticClass:"foodPrice"},[t._v("￥"+t._s(e.price)+"元")])])}))]),t._v(" "),o("el-tab-pane",{attrs:{label:"饮料"}},[o("ul",{staticClass:"cookList"},t._l(t.type3Goods,function(e){return o("li",{on:{click:function(o){t.addOrderList(e)}}},[o("span",{staticClass:"foodImg"},[o("img",{attrs:{src:e.goodsImg,width:"100%"}})]),t._v(" "),o("span",{staticClass:"foodName"},[t._v(t._s(e.goodsName))]),t._v(" "),o("span",{staticClass:"foodPrice"},[t._v("￥"+t._s(e.price)+"元")])])}))])],1)],1)])],1)],1)],1)},staticRenderFns:[]};var k=o("VU/8")(F,$,!1,function(t){o("KzyV")},"data-v-59f34709",null).exports,N={data:function(){var t=this;return{ruleForm2:{username:"",pass:"",checkPass:"",tel:""},rules2:{username:[{validator:function(t,e,o){""===e&&o(new Error("请输入用户名"))},trigger:"blur"}],pass:[{validator:function(e,o,s){""===o?s(new Error("请输入密码")):(""!==t.ruleForm2.checkPass&&t.$refs.ruleForm2.validateField("checkPass"),s())},trigger:"blur"}],checkPass:[{validator:function(e,o,s){""===o?s(new Error("请再次输入密码")):o!==t.ruleForm2.pass?s(new Error("两次输入密码不一致!")):s()},trigger:"blur"}],tel:[{validator:function(t,e,o){return e?/^1[34578]\d{9}$/.test(e)?void 0:o(new Error("手机号码格式不正确")):o(new Error("手机号码不能为空"))},trigger:"blur"}]}}},methods:{submitForm:function(){""==this.ruleForm2.username||""==this.ruleForm2.pass?this.$message("信息不完整"):(this.$message("注册成功"),this.$router.push("/"))},resetForm:function(t){this.$refs[t].resetFields()},jumpLogin:function(){this.$router.push("/")}}},I={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"login"},[t._m(0),t._v(" "),o("div",{staticClass:"main"},[o("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm2,"status-icon":"",rules:t.rules2,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"用户名",prop:"username"}},[o("el-input",{attrs:{type:"text","auto-complete":"off"},model:{value:t.ruleForm2.username,callback:function(e){t.$set(t.ruleForm2,"username",e)},expression:"ruleForm2.username"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"密码",prop:"pass"}},[o("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:t.ruleForm2.pass,callback:function(e){t.$set(t.ruleForm2,"pass",e)},expression:"ruleForm2.pass"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"确认密码",prop:"checkPass"}},[o("el-input",{attrs:{type:"password2","auto-complete":"off"},model:{value:t.ruleForm2.checkPass,callback:function(e){t.$set(t.ruleForm2,"checkPass",e)},expression:"ruleForm2.checkPass"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"手机号码",prop:"tel"}},[o("el-input",{attrs:{type:"password2","auto-complete":"off"},model:{value:t.ruleForm2.tel,callback:function(e){t.$set(t.ruleForm2,"tel",e)},expression:"ruleForm2.tel"}})],1),t._v(" "),o("el-form-item",{attrs:{align:"center",id:"btn"}},[o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm()}}},[t._v("注册")]),t._v(" "),o("el-button",{on:{click:function(e){t.resetForm("ruleForm2")}}},[t._v("重置")])],1)],1),t._v(" "),o("div",{staticClass:"bottom-bar"},[o("p",[t._v("吃了么点餐系统隶属于格莱科技旗下产品，最终解释权属于本公司。"),o("br"),t._v("我有账号"),o("a",{attrs:{href:"javascript:void(0)"},on:{click:t.jumpLogin}},[t._v("点击登录")])])])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"hd"},[e("i",{staticClass:"icon iconfont icon-chushimao"})])}]};var w=o("VU/8")(N,I,!1,function(t){o("H2CX")},"data-v-6312b798",null).exports;s.default.use(l.a);var L=new l.a({routes:[{path:"/",name:"Login",component:f},{path:"/pos",name:"Pos",component:k},{path:"/reg",name:"Reg",component:w}]});s.default.prototype.$http=d.a,d.a.defaults.baseURL="http://127.0.0.1:8080",s.default.config.productionTip=!1,s.default.use(i.a),new s.default({el:"#app",router:L,components:{App:n},template:"<App/>"})},TjiS:function(t,e){},pKgV:function(t,e){t.exports={goods:[{_id:{$oid:"5ad7fefdfe19774d8386b962"},goodsImg:"../../static/img/a1.jpg",goodsName:"香辣鸡腿堡",price:18,goodType:1,goodOfften:1,count:1},{_id:{$oid:"5ad8008cfe19774d8386b98d"},goodsImg:"../../static/img/pos002.jpg",goodsName:"川香鸡腿堡",price:16,goodType:1,goodOfften:1,count:1},{_id:{$oid:"5ad8008cfe19774d8386b98f"},goodsImg:"../../static/img/pos003.jpg",goodsName:"汉堡套餐",price:24,goodType:0,goodOfften:0,count:1},{_id:{$oid:"5ad8008cfe19774d8386b991"},goodsImg:"../../static/img/pos004.jpg",goodsName:"鸡肉卷",price:14,goodType:1,goodOfften:0,count:1},{_id:{$oid:"5ad8008cfe19774d8386b993"},goodsImg:"../../static/img/pos005.jpg",goodsName:"番茄炒蛋盖饭",price:18,goodType:2,goodOfften:1,count:1},{_id:{$oid:"5ad8008cfe19774d8386b995"},goodsImg:"../../static/img/pos006.jpg",goodsName:"辣子鸡盖饭",price:23,goodType:2,goodOfften:0,count:1},{_id:{$oid:"5ad8008cfe19774d8386b997"},goodsImg:"../../static/img/pos007.jpg",goodsName:"鸡排饭",price:21,goodType:2,goodOfften:1,count:1},{_id:{$oid:"5ad8008cfe19774d8386b999"},goodsImg:"../../static/img/pos008.jpg",goodsName:"香辣牛肉盖饭",price:24,goodType:2,goodOfften:0,count:1},{_id:{$oid:"5ad8008cfe19774d8386b99b"},goodsImg:"../../static/img/pos009.jpg",goodsName:"香辣鸡翅",price:8,goodType:3,goodOfften:1,count:1},{_id:{$oid:"5ad8008cfe19774d8386b99d"},goodsImg:"../../static/img/pos010.jpg",goodsName:"鸡排",price:10,goodType:3,goodOfften:0,count:1},{_id:{$oid:"5ad8008cfe19774d8386b99f"},goodsImg:"../../static/img/pos011.jpg",goodsName:"雪碧",price:4,goodType:4,goodOfften:0,count:1},{_id:{$oid:"5ad8008cfe19774d8386b9a1"},goodsImg:"../../static/img/pos012.jpg",goodsName:"可乐",price:4,goodType:4,goodOfften:1,count:1},{_id:{$oid:"5ad8008cfe19774d8386b9a3"},goodsImg:"../../static/img/pos013.jpg",goodsName:"橙汁",price:4,goodType:4,goodOfften:1,count:1},{_id:{$oid:"5ad8008cfe19774d8386b9a5"},goodsImg:"../../static/img/pos014.jpg",goodsName:"咖啡",price:4,goodType:4,goodOfften:0,count:1}]}},tvR6:function(t,e){},z38I:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.23b0fd3ab9acc53e7ddc.js.map